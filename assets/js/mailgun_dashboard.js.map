{"version":3,"sources":["webpack:///webpack/bootstrap 8f9be59e8aa9f6870bad","webpack:///./res/js/dashboard.js","webpack:///./res/css/mailgun_dashboard.scss"],"names":["MailgunDashboardDashboard","$","self","mgdDashboardAction","getMailgunEvents","dateRangeStart","dateRangeEnd","data","action","type","unix","logTable","ajax","url","ajaxurl","dataType","success","response","logTableContainer","JSON","parse","items","DataTable","destroy","defaultContent","width","render","row","meta","event","severity","mailgunDashboardDashboardTexts","eventStatus","dataIndex","find","addClass","bAutoWidth","decimal","emptyTable","info","infoEmpty","infoFiltered","infoPostFix","thousands","lengthMenu","loadingRecords","processing","search","zeroRecords","first","last","next","previous","sortAscending","sortDescending","prev","fadeOut","fadeIn","consoleWarnErrors","on","tr","closest","child","isShown","hide","removeClass","formatChildRow","show","stringify","getMailgunStats","resolution","events","drawChart","getMailgunLog","logTableBody","empty","each","index","value","newRow","hap","created_at","message","append","aoColumns","sWidth","key","alert","mailgun_api_failed","console_for_info","console","warn","mailgun_api_error","statsChartContainer","dateRangeContainer","datasets","labels","accepted","delivered","opened","clicked","complained","unsubscribed","temporaryFail","permanentFail","stored","barChartData","ctx","stats","element","push","time","total","failed","temporary","espblock","permanent","label","backgroundColor","temporary_failed","permanent_failed","window","myBar","document","getElementById","Chart","options","title","display","text","chartTitle","tooltips","mode","intersect","responsive","maintainAspectRatio","scales","xAxes","stacked","yAxes","range","eventsTableContainer","setRangeStartEnd","setDateRangeValue","html","format","dateRangeCallback","initDatePicker","ranges","today","moment","yesterday","subtract","lastSevenDays","lastTwentyEightDays","daterangepicker","alwaysShowCalendars","minDate","maxDate","init","jQuery","ready","dashboardInstance"],"mappings":"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","file":"./assets/js/mailgun_dashboard.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 8f9be59e8aa9f6870bad","import './../css/mailgun_dashboard.scss';\n\nvar MailgunDashboardDashboard = function( $ ) {\n\n    var self = this;\n\n    self.mgdDashboardAction = 'mgd_get_mailgun_dashboard_api';\n\n    self.getMailgunEvents = function( dateRangeStart, dateRangeEnd ) {\n        var data = {\n            action:\tself.mgdDashboardAction,\n            type: 'events',\n            dateRangeStart: dateRangeStart.unix(),\n            dateRangeEnd: dateRangeEnd.unix()\n        },\n            logTable;\n\n        $.ajax({\n            url: ajaxurl,\n            data: data,\n            type: 'POST',\n            dataType: 'json',\n            success: function( response ) {\n                var logTableContainer = $( '#mgd-events-table-container' );\n                if ( response.success ) {\n                    data = JSON.parse( response.data ).items;\n                    logTable = $( '#mgd-events-table' );\n                    logTable.DataTable().destroy();\n                    logTable.DataTable({\n                        'data': data,\n                        'columns': [\n                            { defaultContent: '', width: '1%' },\n                            { data: 'timestamp', width: '15%' },\n                            {\n                                data: 'event',\n                                width: '15%',\n                                render: function( data, type, row, meta ) {\n                                    var event = 'failed' !== row.event ? row.event : row.severity + '_' + row.event;\n                                    return mailgunDashboardDashboardTexts.eventStatus[ event ];\n                                }\n                            },\n                            { data: 'recipient', width: '68%' }\n                        ],\n                        'createdRow': function( row, data, dataIndex ) {\n                            var event = 'failed' !== data.event ? data.event : data.severity + '_' + data.event;\n                            $( row ).find( '>:first-child' ).addClass( 'status' ).addClass( event );\n                        },\n                        'iDisplayLength': 25,\n                        'order': [ [ 1, 'desc' ] ],\n                        'columnDefs': [\n                            {\n                                'targets': [ 0, 2 ],\n                                'orderable': false\n                            },\n                            {\n                                'type': 'date',\n                                'targets': [ 1 ]\n                            }\n                        ],\n                        bAutoWidth: false,\n                        'language': {\n                            'decimal': mailgunDashboardDashboardTexts.decimal,\n                            'emptyTable': mailgunDashboardDashboardTexts.emptyTable,\n                            'info': mailgunDashboardDashboardTexts.info,\n                            'infoEmpty': mailgunDashboardDashboardTexts.infoEmpty,\n                            'infoFiltered': mailgunDashboardDashboardTexts.infoFiltered,\n                            'infoPostFix': mailgunDashboardDashboardTexts.infoPostFix,\n                            'thousands': mailgunDashboardDashboardTexts.thousands,\n                            'lengthMenu': mailgunDashboardDashboardTexts.lengthMenu,\n                            'loadingRecords': mailgunDashboardDashboardTexts.loadingRecords,\n                            'processing': mailgunDashboardDashboardTexts.processing,\n                            'search': mailgunDashboardDashboardTexts.search,\n                            'zeroRecords': mailgunDashboardDashboardTexts.zeroRecords,\n                            'paginate': {\n                                'first': mailgunDashboardDashboardTexts.first,\n                                'last': mailgunDashboardDashboardTexts.last,\n                                'next': mailgunDashboardDashboardTexts.next,\n                                'previous': mailgunDashboardDashboardTexts.previous\n                            },\n                            'aria': {\n                                'sortAscending': mailgunDashboardDashboardTexts.sortAscending,\n                                'sortDescending': mailgunDashboardDashboardTexts.sortDescending\n                            }\n                        }\n                    });\n\n                    // Fade out the loading gif\n                    logTableContainer.prev( '.mgd-loading-section' ).fadeOut();\n\n                    // Fade in the table\n                    logTableContainer.fadeIn();\n\n                    // Fade in the refresh dashboard button\n                    $( '.js-mgd-refresh-dashboard' ).fadeIn();\n                } else {\n                    self.consoleWarnErrors( response.data );\n                }\n            }\n        });\n    };\n\n    $( '#mgd-events-table tbody' ).on( 'click', 'tr', function() {\n        var logTable = $( '#mgd-events-table' ).DataTable();\n        var tr = $( this ).closest( 'tr' );\n        var row = logTable.row( tr );\n\n        if ( row.child.isShown() ) {\n\n            // This row is already open - close it\n            row.child.hide();\n            tr.removeClass( 'shown' );\n        } else {\n\n            // Open this row\n            row.child( self.formatChildRow( row.data() ) ).show();\n            tr.addClass( 'shown' );\n        }\n    });\n\n    self.formatChildRow = function( data ) {\n        return '<pre>' + JSON.stringify( data, null, '\\t' ) + '</pre>';\n    };\n\n    self.getMailgunStats = function( dateRangeStart, dateRangeEnd ) {\n        var data = {\n            action:\tself.mgdDashboardAction,\n            type: 'stats',\n            resolution: 'hour',\n            events: [\n                'delivered',\n                'failed',\n                'stored',\n                'accepted',\n                'opened',\n                'clicked',\n                'unsubscribed',\n                'complained'\n            ],\n            dateRangeStart: dateRangeStart.unix(),\n            dateRangeEnd: dateRangeEnd.unix()\n        };\n\n        $.ajax({\n            url: ajaxurl,\n            data: data,\n            type: 'POST',\n            dataType: 'json',\n            success: function( response ) {\n                if ( response.success ) {\n                    self.drawChart( JSON.parse( response.data ), data.events );\n                } else {\n                    self.consoleWarnErrors( response.data );\n                }\n            }\n        });\n    };\n\n    self.getMailgunLog = function() {\n        var data = {\n            action:\tself.mgdDashboardAction,\n            type: 'log'\n        },\n        logTable,\n        logTableBody;\n\n        $.ajax({\n            url: ajaxurl,\n            data: data,\n            type: 'POST',\n            dataType: 'json',\n            success: function( response ) {\n                var logTableContainer = $( '#mgd-events-table-container' );\n                if ( response.success ) {\n                    logTable = $( '#mgd-events-table' );\n                    logTableBody = $( '#mgd-events-table tbody' );\n\n                    logTable.DataTable().destroy();\n                    logTableBody.empty();\n\n                    $.each( JSON.parse( response.data ).items, function( index, value ) {\n                        var newRow = '<tr>' +\n                                        '<td class=\"status ' + value.hap + '\" title=\"' + mailgunDashboardDashboardTexts.eventStatus[ value.hap ] + '\"></td>' +\n                                        '<td>' +\n                                            value.created_at +\n                                        '</td>' +\n                                        '<td>' +\n                                            value.message +\n                                        '</td>' +\n                                    '</tr>';\n                        logTableBody.append( newRow );\n                    });\n\n                    logTable.DataTable(\n                        {\n                            'iDisplayLength': 25,\n                            'order': [ [ 1, 'desc' ] ],\n                            'columnDefs': [\n                                {\n                                    'targets': [ 0, 2 ],\n                                    'orderable': false\n                                },\n                                {\n                                    'type': 'date',\n                                    'targets': [ 1 ]\n                                }\n                            ],\n                            bAutoWidth: false,\n                            aoColumns: [\n                                { sWidth: '1%' },\n                                { sWidth: '15%' },\n                                { sWidth: '73%' }\n                            ],\n                            'language': {\n                                'decimal': mailgunDashboardDashboardTexts.decimal,\n                                'emptyTable': mailgunDashboardDashboardTexts.emptyTable,\n                                'info': mailgunDashboardDashboardTexts.info,\n                                'infoEmpty': mailgunDashboardDashboardTexts.infoEmpty,\n                                'infoFiltered': mailgunDashboardDashboardTexts.infoFiltered,\n                                'infoPostFix': mailgunDashboardDashboardTexts.infoPostFix,\n                                'thousands': mailgunDashboardDashboardTexts.thousands,\n                                'lengthMenu': mailgunDashboardDashboardTexts.lengthMenu,\n                                'loadingRecords': mailgunDashboardDashboardTexts.loadingRecords,\n                                'processing': mailgunDashboardDashboardTexts.processing,\n                                'search': mailgunDashboardDashboardTexts.search,\n                                'zeroRecords': mailgunDashboardDashboardTexts.zeroRecords,\n                                'paginate': {\n                                    'first': mailgunDashboardDashboardTexts.first,\n                                    'last': mailgunDashboardDashboardTexts.last,\n                                    'next': mailgunDashboardDashboardTexts.next,\n                                    'previous': mailgunDashboardDashboardTexts.previous\n                                },\n                                'aria': {\n                                    'sortAscending': mailgunDashboardDashboardTexts.sortAscending,\n                                    'sortDescending': mailgunDashboardDashboardTexts.sortDescending\n                                }\n                            }\n                        }\n                    );\n\n                    // Fade out the loading gif\n                    logTableContainer.prev( '.mgd-loading-section' ).fadeOut();\n\n                    // Fade in the table\n                    logTableContainer.fadeIn();\n\n                    // Fade in the refresh dashboard button\n                    $( '.js-mgd-refresh-dashboard' ).fadeIn();\n                } else {\n                    self.consoleWarnErrors( response.data );\n                }\n\n\n            }\n        });\n    };\n\n    self.consoleWarnErrors = function( data ) {\n        $.each( data, function( key, value ) {\n            alert( mailgunDashboardDashboardTexts.mailgun_api_failed + '!' + '\\n' + mailgunDashboardDashboardTexts.console_for_info + '.' );\n            console.warn( mailgunDashboardDashboardTexts.mailgun_api_error + ': ' +  key + ' => ' + value );\n        });\n    };\n\n    self.drawChart = function( data, events ) {\n        var statsChartContainer = $( '#mgd-stats-chart' ),\n            dateRangeContainer = $( '#mgd-date-range' ),\n            datasets = [],\n            labels = [],\n            accepted = [],\n            delivered = [],\n            opened = [],\n            clicked = [],\n            complained = [],\n            unsubscribed = [],\n            temporaryFail = [],\n            permanentFail = [],\n            stored = [],\n            barChartData,\n            ctx;\n\n        $.each( data.stats, function( index, element ) {\n            labels.push( element.time );\n            accepted.push( element.accepted.total );\n            delivered.push( element.delivered.total );\n            opened.push( element.opened.total );\n            clicked.push( element.clicked.total );\n            complained.push( element.complained.total );\n            unsubscribed.push( element.unsubscribed.total );\n            temporaryFail.push( element.failed.temporary.espblock );\n            permanentFail.push( element.failed.permanent.total );\n            stored.push( element.stored.total );\n        });\n\n        datasets.push({\n            label: mailgunDashboardDashboardTexts.eventStatus.accepted,\n            backgroundColor: '#5da5da',\n            data: accepted\n        });\n\n        datasets.push({\n            label: mailgunDashboardDashboardTexts.eventStatus.delivered,\n            backgroundColor: '#60bd68',\n            data: delivered\n        });\n\n        datasets.push({\n            label: mailgunDashboardDashboardTexts.eventStatus.opened,\n            backgroundColor: '#407bbf',\n            data: opened\n        });\n\n        datasets.push({\n            label: mailgunDashboardDashboardTexts.eventStatus.clicked,\n            backgroundColor: '#386F3F',\n            data: clicked\n        });\n\n        datasets.push({\n            label: mailgunDashboardDashboardTexts.eventStatus.stored,\n            backgroundColor: '#2A6062',\n            data: stored\n        });\n\n        datasets.push({\n            label: mailgunDashboardDashboardTexts.eventStatus.complained,\n            backgroundColor: '#333333',\n            data: complained\n        });\n\n        datasets.push({\n            label: mailgunDashboardDashboardTexts.eventStatus.unsubscribed,\n            backgroundColor: '#BF9940',\n            data: unsubscribed\n        });\n\n        datasets.push({\n            label: mailgunDashboardDashboardTexts.eventStatus.temporary_failed,\n            backgroundColor: '#FF9800',\n            data: temporaryFail\n        });\n\n        datasets.push({\n            label: mailgunDashboardDashboardTexts.eventStatus.permanent_failed,\n            backgroundColor: '#C40022',\n            data: permanentFail\n        });\n\n        barChartData = {\n            'labels': labels,\n            'datasets': datasets\n        };\n\n        if ( 'undefined' !== typeof window.myBar ) {\n            window.myBar.destroy();\n        }\n\n        ctx = document.getElementById( 'canvas' );\n        window.myBar = new Chart( ctx, {\n            type: 'bar',\n            data: barChartData,\n            options: {\n                title: {\n                    display: true,\n                    text: mailgunDashboardDashboardTexts.chartTitle\n                },\n                tooltips: {\n                    mode: 'index',\n                    intersect: false\n                },\n                responsive: true,\n                maintainAspectRatio: false,\n                scales: {\n                    xAxes: [ { stacked: true } ],\n                    yAxes: [ { stacked: true } ]\n                }\n            }\n        });\n\n        // Fade out the loading gif\n        statsChartContainer.prev( '.mgd-loading-section' ).fadeOut();\n\n        // Fade in the chart\n        statsChartContainer.fadeIn();\n\n        // Fade in the date range picker\n        dateRangeContainer.fadeIn();\n\n        // Fade in the refresh dashboard button\n        $( '.js-mgd-refresh-dashboard' ).fadeIn();\n    };\n\n    $( document ).on( 'click', '.js-mgd-refresh-dashboard-button', function() {\n        var range,\n            statsChartContainer,\n            dateRangeContainer,\n            eventsTableContainer;\n\n        dateRangeContainer = $( '#mgd-date-range' );\n        dateRangeContainer.fadeOut();\n\n        statsChartContainer = $( '#mgd-stats-chart' );\n        statsChartContainer.prev( '.mgd-loading-section' ).fadeIn();\n        statsChartContainer.fadeOut();\n\n        eventsTableContainer = $( '#mgd-events-table-container' );\n        eventsTableContainer.prev( '.mgd-loading-section' ).fadeIn();\n        eventsTableContainer.fadeOut();\n\n        $( '.js-mgd-refresh-dashboard' ) .fadeOut();\n\n        range = self.setRangeStartEnd();\n\n        self.setDateRangeValue( range.dateRangeStart, range.dateRangeEnd );\n\n        // self.getMailgunLog();\n        self.getMailgunStats( range.dateRangeStart, range.dateRangeEnd );\n        self.getMailgunEvents( range.dateRangeStart, range.dateRangeEnd );\n    });\n\n    self.setDateRangeValue = function( dateRangeStart, dateRangeEnd ) {\n        $( '#mgd-date-range span' ).html( dateRangeStart.format( 'MMMM D, YYYY' ) + ' - ' + dateRangeEnd.format( 'MMMM D, YYYY' ) );\n    };\n\n    self.dateRangeCallback = function( dateRangeStart, dateRangeEnd ) {\n\n        var eventsTableContainer,\n            statsChartContainer;\n\n        self.setDateRangeValue( dateRangeStart, dateRangeEnd );\n\n        statsChartContainer = $( '#mgd-stats-chart' );\n        statsChartContainer.prev( '.mgd-loading-section' ).fadeIn();\n        statsChartContainer.fadeOut();\n\n        self.getMailgunStats( dateRangeStart, dateRangeEnd );\n\n        eventsTableContainer = $( '#mgd-events-table-container' );\n        eventsTableContainer.prev( '.mgd-loading-section' ).fadeIn();\n        eventsTableContainer.fadeOut();\n\n        self.getMailgunEvents( dateRangeStart, dateRangeEnd );\n    };\n\n    self.initDatePicker = function( dateRangeStart, dateRangeEnd ) {\n        var ranges = {};\n\n        ranges[ mailgunDashboardDashboardTexts.today ] = [ moment(), moment() ];\n        ranges[ mailgunDashboardDashboardTexts.yesterday ] = [ moment().subtract( 1, 'days' ), moment().subtract( 1, 'days' ) ];\n        ranges[ mailgunDashboardDashboardTexts.lastSevenDays ] = [ moment().subtract( 6, 'days' ), moment() ];\n        ranges[ mailgunDashboardDashboardTexts.lastTwentyEightDays ] = [ moment().subtract( 27, 'days' ), moment() ];\n\n        $( '#mgd-date-range' ).daterangepicker({\n            alwaysShowCalendars: true,\n            minDate: moment().subtract( 27, 'days' ),\n            maxDate: moment(),\n            ranges: ranges\n        }, self.dateRangeCallback );\n\n        self.setDateRangeValue( dateRangeStart, dateRangeEnd );\n    };\n\n    self.setRangeStartEnd = function() {\n        return {\n            dateRangeStart: moment().subtract( 6, 'days' ),\n            dateRangeEnd: moment()\n        };\n    };\n\n    self.init = function() {\n        var range = self.setRangeStartEnd();\n\n        // self.getMailgunLog();\n        self.getMailgunStats( range.dateRangeStart, range.dateRangeEnd );\n        self.initDatePicker( range.dateRangeStart, range.dateRangeEnd );\n        self.getMailgunEvents( range.dateRangeStart, range.dateRangeEnd );\n    };\n\n    self.init();\n\n};\n\njQuery( document ).ready( function( $ ) {\n    var dashboardInstance = new MailgunDashboardDashboard( $ );\n});\n\n\n\n// WEBPACK FOOTER //\n// ./res/js/dashboard.js","// removed by extract-text-webpack-plugin\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./res/css/mailgun_dashboard.scss\n// module id = 1\n// module chunks = 0"],"sourceRoot":""}